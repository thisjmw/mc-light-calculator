{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/ViewGridControlSelector.vue?d4ef","webpack:///./src/components/ViewGrid.vue?4144","webpack:///./src/App.vue?ee9a","webpack:///./src/components/LightCalculator.vue?a160","webpack:///./src/components/ViewGrid.vue?8f0b","webpack:///./src/data.js","webpack:///src/components/ViewGrid.vue","webpack:///./src/components/ViewGrid.vue?5259","webpack:///./src/components/ViewGrid.vue?4fbe","webpack:///./src/components/ViewGridControlSelector.vue?b09f","webpack:///./src/util.js","webpack:///src/components/ViewGridControlSelector.vue","webpack:///./src/components/ViewGridControlSelector.vue?0bbb","webpack:///./src/components/ViewGridControlSelector.vue?6d19","webpack:///src/components/LightCalculator.vue","webpack:///./src/components/LightCalculator.vue?aebb","webpack:///./src/components/LightCalculator.vue?3746","webpack:///./src/components/PageHeader.vue?1aeb","webpack:///src/components/PageHeader.vue","webpack:///./src/components/PageHeader.vue?d951","webpack:///./src/components/PageHeader.vue?f895","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/PageHeader.vue?a971","webpack:///./src/components/LightCalculator.vue?9bcb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","toggleControl","showControls","staticRenderFns","directives","rawName","expression","changeControl","changeView","changeDimensions","reset","class","expanded","gridWidth","gridHeight","lights","walls","elevations","controlType","gridView","addLight","removeLight","addWall","removeWall","changeElevation","style","mouseLeft","_l","block","index","blockStyle","$event","mouseDown","dragging","mouseEnter","mouseUp","gridViewEnum","LIGHT","_v","_s","type","blockTypeEnum","WALL","strength","ELEVATION","elevation","_e","NORMAL","controlTypeEnum","INCREASE_ELEVATION","DECREASE_ELEVATION","dragBehaviorEnum","NONE","ADD_LIGHT","REMOVE_LIGHT","ADD_WALL","REMOVE_WALL","component","$$selectedVal","Array","filter","target","options","selected","map","val","_value","multiple","viewOptions","option","id","domProps","default","control","scopedControlOptions","dimensions","height","min","max","dimensionsChanged","composing","width","clamp","message","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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SACA,GACA,UACA,4BACA,+CAGA,SACA,CACA,mBACA,aACA,cACA,oBAEA,CACA,kBACA,YACA,aACA,oBAEA,CACA,gCACA,0BACA,2BACA,wBAEA,CACA,gCACA,0BACA,2BACA,0BAKA,GACA,QACA,WACA,MACA,SAEA,OACA,WACA,MACA,UAIA,GACA,gCACA,OACA,iBACA,cACA,oBACA,SAEA,KARA,WASA,OACA,iBACA,cACA,6BACA,mBACA,wBACA,sBACA,aACA,gBACA,iBAGA,UACA,qBADA,WACA,WACA,OACA,oCACA,+FAIA,OACA,QADA,SACA,GACA,gCAEA,SAJA,SAIA,GACA,mBACA,8BAGA,SACA,YADA,WAEA,uCAEA,kBAJA,WAKA,qDACA,iDACA,uEAEA,MATA,WAUA,6BACA,2BACA,wBACA,mBACA,yBACA,uBC7LiW,ICQ7V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCqBf,IACA,MAEA,GACA,uBACA,YACA,WACA,2BAEA,OACA,sBAEA,KATA,WAUA,OACA,UACA,SACA,cACA,aACA,cACA,oBACA,mBAGA,SACA,SADA,SACA,GACA,6CAEA,YAJA,SAIA,GACA,8EAEA,QAPA,SAOA,GACA,gCAEA,WAVA,SAUA,GACA,4EAEA,gBAbA,SAaA,GACA,qCACA,+DAEA,CACA,yBACA,wCACA,wCACA,yCACA,6CANA,gCAUA,MA1BA,WA2BA,eACA,cACA,oBAEA,cA/BA,SA+BA,GACA,oBAEA,WAlCA,SAkCA,GACA,iBAEA,iBArCA,SAqCA,GACA,uBACA,4BCtGyV,ICQrV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIQ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,MAAM,CAACG,YAAY,SAAS,CAACP,EAAI8C,GAAG,sBAAsB1C,EAAG,MAAM,CAACG,YAAY,WAAW,CAACP,EAAI8C,GAAG9C,EAAI+C,GAAG/C,EAAI2F,eAC/O,EAAkB,GCOtB,GACA,kBACA,OACA,sBAEA,UACA,QADA,WAEA,kECfoV,ICQhV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCJf,GACA,WACA,YACA,aACA,mBAEA,KANA,WAOA,OACA,kBAGA,SACA,cADA,WAEA,wCC5B8T,ICQ1T,G,UAAY,eACd,EACA,EACAhF,GACA,EACA,KACA,KACA,OAIa,I,QChBfiF,OAAIC,OAAOC,eAAgB,EAE3B,IAAIF,OAAI,CACPG,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACbC,OAAO,S,2DCPV,yBAAye,EAAG,G,kCCA5e,yBAA8e,EAAG,G","file":"js/app.9c5be291.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGridControlSelector.vue?vue&type=style&index=0&id=652d667e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGridControlSelector.vue?vue&type=style&index=0&id=652d667e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGrid.vue?vue&type=style&index=0&id=4d6db2de&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGrid.vue?vue&type=style&index=0&id=4d6db2de&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"header no-select\",on:{\"click\":_vm.toggleControl}},[_c('page-header',{attrs:{\"show-controls\":_vm.showControls}})],1),_c('div',{staticClass:\"content\"},[_c('light-calculator',{attrs:{\"show-controls\":_vm.showControls}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"light-calculator\"}},[_c('view-grid-control-selector',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showControls),expression:\"showControls\"}],on:{\"change-control\":_vm.changeControl,\"change-view\":_vm.changeView,\"change-dimensions\":_vm.changeDimensions,\"reset\":_vm.reset}}),_c('div',{staticClass:\"view-grid-container\"},[_c('div',{class:{ expanded: !_vm.showControls },attrs:{\"id\":\"view-grid\"}},[_c('view-grid',{attrs:{\"width\":_vm.gridWidth,\"height\":_vm.gridHeight,\"lights\":_vm.lights,\"walls\":_vm.walls,\"elevations\":_vm.elevations,\"control\":_vm.controlType,\"grid-view\":_vm.gridView},on:{\"add-light\":_vm.addLight,\"remove-light\":_vm.removeLight,\"add-wall\":_vm.addWall,\"remove-wall\":_vm.removeWall,\"change-elevation\":_vm.changeElevation,\"reset\":_vm.reset}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grid-container\",style:(_vm.gridLayout),on:{\"mouseleave\":_vm.mouseLeft}},_vm._l((_vm.grid),function(block,index){return _c('div',{key:index,staticClass:\"block no-select\",class:_vm.blockStyle(block),on:{\"mousedown\":function($event){return _vm.mouseDown(index)},\"mouseenter\":function($event){_vm.dragging ? _vm.mouseEnter(index) : null},\"mouseup\":_vm.mouseUp}},[(_vm.gridView === _vm.gridViewEnum.LIGHT)?[_vm._v(\" \"+_vm._s(block.type !== _vm.blockTypeEnum.WALL ? block.strength : '')+\" \")]:(_vm.gridView === _vm.gridViewEnum.ELEVATION)?[_vm._v(\" \"+_vm._s(block.elevation)+\" \")]:_vm._e()],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const blockTypeEnum = {\r\n\tNORMAL: 1,\r\n\tLIGHT: 2,\r\n\tWALL: 3\r\n}\r\n\r\nexport const gridViewEnum = {\r\n\tLIGHT: 1,\r\n\tELEVATION: 2\r\n}\r\n\r\nexport const controlTypeEnum = {\r\n\tLIGHT: 1,\r\n\tWALL: 2,\r\n\tINCREASE_ELEVATION: 3,\r\n\tDECREASE_ELEVATION: 4\r\n}\r\n\r\nexport const dragBehaviorEnum = {\r\n\tNONE: 0,\r\n\tADD_LIGHT: 1,\r\n\tREMOVE_LIGHT: 2,\r\n\tADD_WALL: 3,\r\n\tREMOVE_WALL: 4,\r\n\tINCREASE_ELEVATION: 5\r\n}","<template>\r\n\t<div class=\"grid-container\" :style=\"gridLayout\" @mouseleave=\"mouseLeft\">\r\n\t\t<div\r\n\t\t\tclass=\"block no-select\"\r\n\t\t\t:class=\"blockStyle(block)\"\r\n\t\t\tv-for=\"(block, index) in grid\"\r\n\t\t\t:key=\"index\"\r\n\t\t\t@mousedown=\"mouseDown(index)\"\r\n\t\t\t@mouseenter=\"dragging ? mouseEnter(index) : null\"\r\n\t\t\t@mouseup=\"mouseUp\"\r\n\t\t>\r\n\t\t\t<template v-if=\"gridView === gridViewEnum.LIGHT\">\r\n\t\t\t\t{{ block.type !== blockTypeEnum.WALL ? block.strength : '' }}\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"gridView === gridViewEnum.ELEVATION\">\r\n\t\t\t\t{{ block.elevation }}\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tblockTypeEnum,\r\n\t\tgridViewEnum,\r\n\t\tcontrolTypeEnum,\r\n\t\tdragBehaviorEnum\r\n\t} from '../data'\r\n\r\n\texport default {\r\n\t\tname: 'LightGrid',\r\n\t\temits: [\r\n\t\t\t'add-light',\r\n\t\t\t'remove-light',\r\n\t\t\t'add-wall',\r\n\t\t\t'remove-wall',\r\n\t\t\t'change-elevation'\r\n\t\t],\r\n\t\tprops: {\r\n\t\t\twidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tvalidator: n => n > 0\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tvalidator: n => n > 0\r\n\t\t\t},\r\n\t\t\tlights: Array,\r\n\t\t\twalls: Array,\r\n\t\t\televations: Object,\r\n\t\t\tcontrol: Number, // controlTypeEnum\r\n\t\t\tgridView: Number // gridViewEnum\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tprocessed: 0,\r\n\t\t\t\tupdated: 0,\r\n\t\t\t\tduplicated: 0,\r\n\t\t\t\tblockTypeEnum,\r\n\t\t\t\tgridViewEnum,\r\n\t\t\t\tdragging: false,\r\n\t\t\t\tdragHistory: [],\r\n\t\t\t\tdragBehavior: dragBehaviorEnum.NONE\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgrid() {\r\n\t\t\t\tconst blocks = []\r\n\t\t\t\tfor (let y = 0; y < this.height; y++) {\r\n\t\t\t\t\tblocks[y] = []\r\n\t\t\t\t\tfor (let x = 0; x < this.width; x++) {\r\n\t\t\t\t\t\tconst elevation = this.elevations[`${x},${y}`] || 0\r\n\t\t\t\t\t\tblocks[y][x] = { strength: 0, type: blockTypeEnum.NORMAL, elevation }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this.gridView === gridViewEnum.LIGHT ? this.calculateLighting(blocks) : blocks.flat()\r\n\t\t\t},\r\n\t\t\tgridLayout() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tgridTemplateColumns: `repeat(${this.width}, 1.2rem)`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// Returns object with [key] -> [value] pairs of [entity coordinate index] -> [entity] for specified entity\r\n\t\t\t// list, e.g. `lights` or `walls`\r\n\t\t\tgetEntityIndexMap(entityListPropName) {\r\n\t\t\t\tconst indexMap = {}\r\n\t\t\t\tfor (const entity of this[entityListPropName]) {\r\n\t\t\t\t\tindexMap[this.coordinatesToIndex(entity.x, entity.y)] = entity\r\n\t\t\t\t}\r\n\t\t\t\treturn indexMap\r\n\t\t\t},\r\n\t\t\tcalculateLighting(blocks) {\r\n\t\t\t\t// TODO: Find ways to make this more efficient\r\n\t\t\t\tthis.processed = 0\r\n\t\t\t\tthis.updated = 0\r\n\t\t\t\tthis.duplicated = 0\r\n\r\n\t\t\t\tif (!this.lights.length && !this.walls.length) {\r\n\t\t\t\t\treturn blocks.flat()\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst queue = []\r\n\r\n\t\t\t\t// Add walls first so they interfere with lighting\r\n\t\t\t\tfor (const wall of this.walls) {\r\n\t\t\t\t\tqueue.push({ ...wall, type: blockTypeEnum.WALL })\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (const light of this.lights) {\r\n\t\t\t\t\tqueue.push({ ...light, type: blockTypeEnum.LIGHT })\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet currentBlock = queue.shift()\r\n\r\n\t\t\t\twhile (currentBlock) {\r\n\t\t\t\t\tthis.processed++\r\n\t\t\t\t\tconst {x, y, type} = currentBlock\r\n\r\n\t\t\t\t\t// Extract elevation from the underlying grid - entities such as lights will adopt this elevation\r\n\t\t\t\t\tcurrentBlock.elevation = blocks[y][x].elevation\r\n\r\n\t\t\t\t\tif (type === blockTypeEnum.WALL) {\r\n\t\t\t\t\t\tthis.updated++\r\n\t\t\t\t\t\tblocks[y][x] = { ...blocks[y][x], type }\r\n\t\t\t\t\t} else if (blocks[y][x].strength < currentBlock.strength) {\r\n\t\t\t\t\t\tthis.updated++\r\n\t\t\t\t\t\tconst strength = currentBlock.strength\r\n\t\t\t\t\t\tblocks[y][x] = { ...blocks[y][x], type, strength }\r\n\t\t\t\t\t\tif (strength > 1) {\r\n\t\t\t\t\t\t\t// Update neighbors starting at top and going clockwise\r\n\t\t\t\t\t\t\tupdateNeighbor(blocks, queue, x, y - 1, y > 0, currentBlock)\r\n\t\t\t\t\t\t\tupdateNeighbor(blocks, queue, x + 1, y, x < this.width - 1, currentBlock)\r\n\t\t\t\t\t\t\tupdateNeighbor(blocks, queue, x, y + 1, y < this.height - 1, currentBlock)\r\n\t\t\t\t\t\t\tupdateNeighbor(blocks, queue, x - 1, y, x > 0, currentBlock)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.duplicated++\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcurrentBlock = queue.shift()\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn blocks.flat()\r\n\r\n\t\t\t\tfunction updateNeighbor(blocks, queue, x, y, condition, currentBlock) {\r\n\t\t\t\t\t// Only try to update block[y][x] if it's not already brighter than `currentBlock` could make it\r\n\t\t\t\t\tif (condition && blocks[y][x].strength < currentBlock.strength - 1) {\r\n\t\t\t\t\t\tconst nextElevation = blocks[y][x].elevation\r\n\t\t\t\t\t\tconst dElevation = Math.abs(nextElevation - currentBlock.elevation)\r\n\t\t\t\t\t\tconst nextStrength = currentBlock.strength - 1 - dElevation\r\n\t\t\t\t\t\tif (nextStrength > 0 && nextStrength > blocks[y][x].strength) {\r\n\t\t\t\t\t\t\tqueue.push({\r\n\t\t\t\t\t\t\t\tx,\r\n\t\t\t\t\t\t\t\ty,\r\n\t\t\t\t\t\t\t\televation: nextElevation,\r\n\t\t\t\t\t\t\t\tstrength: nextStrength,\r\n\t\t\t\t\t\t\t\ttype: blocks[y][x].type\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tclicked(index) {\r\n\t\t\t\tlet coordinates = this.indexToCoordinates(index)\r\n\t\t\t\tswitch (this.gridView) {\r\n\t\t\t\t\tcase gridViewEnum.LIGHT:\r\n\t\t\t\t\t\t// TODO: Still ugly :(\r\n\t\t\t\t\t\tconst lightViewEventHelpers = {\r\n\t\t\t\t\t\t\t[controlTypeEnum.LIGHT]: {\r\n\t\t\t\t\t\t\t\ttargetObjectExistsAtCoordinates: this.isBlockType(blockTypeEnum.LIGHT, index),\r\n\t\t\t\t\t\t\t\treplaceableObjectExistsAtCoordinates: this.isBlockType(blockTypeEnum.WALL, index),\r\n\t\t\t\t\t\t\t\ttargetObjectName: 'light',\r\n\t\t\t\t\t\t\t\treplaceableObjectName: 'wall'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t[controlTypeEnum.WALL]: {\r\n\t\t\t\t\t\t\t\ttargetObjectExistsAtCoordinates: this.isBlockType(blockTypeEnum.WALL, index),\r\n\t\t\t\t\t\t\t\treplaceableObjectExistsAtCoordinates: this.isBlockType(blockTypeEnum.LIGHT, index),\r\n\t\t\t\t\t\t\t\ttargetObjectName: 'wall',\r\n\t\t\t\t\t\t\t\treplaceableObjectName: 'light'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst helper = lightViewEventHelpers[this.control]\r\n\t\t\t\t\t\tif (helper.targetObjectExistsAtCoordinates) {\r\n\t\t\t\t\t\t\tthis.$emit(`remove-${helper.targetObjectName}`, coordinates)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (helper.replaceableObjectExistsAtCoordinates) {\r\n\t\t\t\t\t\t\t\tthis.$emit(`remove-${helper.replaceableObjectName}`, coordinates)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$emit(`add-${helper.targetObjectName}`, coordinates)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase gridViewEnum.ELEVATION:\r\n\t\t\t\t\t\tthis.$emit('change-elevation', coordinates)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tblockStyle(block) {\r\n\t\t\t\tswitch (this.gridView) {\r\n\t\t\t\t\tcase gridViewEnum.LIGHT:\r\n\t\t\t\t\t\tconst lightClass = `light-${block.strength}`\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tlight: block.type === blockTypeEnum.LIGHT,\r\n\t\t\t\t\t\t\t[lightClass]: block.type !== blockTypeEnum.WALL,\r\n\t\t\t\t\t\t\twall: block.type === blockTypeEnum.WALL,\r\n\t\t\t\t\t\t\tdanger: block.type !== blockTypeEnum.WALL && block.strength < 8\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tcase gridViewEnum.ELEVATION:\r\n\t\t\t\t\t\tconst elevationClass = `elevation-${block.elevation > 3 ? 3 : block.elevation}`\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\televation: true,\r\n\t\t\t\t\t\t\t[elevationClass]: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tindexToCoordinates(index) {\r\n\t\t\t\tconst y = Math.floor(index / this.width)\r\n\t\t\t\tconst x = index - (y * this.width)\r\n\t\t\t\tconst elevation = this.grid[index].elevation\r\n\t\t\t\treturn { x, y, elevation }\r\n\t\t\t},\r\n\t\t\tcoordinatesToIndex(x, y) {\r\n\t\t\t\treturn x + (y * this.width)\r\n\t\t\t},\r\n\t\t\tisBlockType(blockType, index) {\r\n\t\t\t\tconst propNames = {\r\n\t\t\t\t\t[blockTypeEnum.LIGHT]: 'lights',\r\n\t\t\t\t\t[blockTypeEnum.WALL]: 'walls'\r\n\t\t\t\t}\r\n\t\t\t\tconst propName = propNames[blockType]\r\n\t\t\t\tif (propName) {\r\n\t\t\t\t\treturn !!this.getEntityIndexMap(propName)[index]\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmouseDown(index) {\r\n\t\t\t\tthis.dragging = true\r\n\r\n\t\t\t\tswitch (this.gridView) {\r\n\t\t\t\t\tcase gridViewEnum.LIGHT:\r\n\t\t\t\t\t\tswitch (this.control) {\r\n\t\t\t\t\t\t\tcase controlTypeEnum.LIGHT:\r\n\t\t\t\t\t\t\t\tif (this.isBlockType(blockTypeEnum.LIGHT, index)) {\r\n\t\t\t\t\t\t\t\t\tthis.dragBehavior = dragBehaviorEnum.REMOVE_LIGHT\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.dragBehavior = dragBehaviorEnum.ADD_LIGHT\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase controlTypeEnum.WALL:\r\n\t\t\t\t\t\t\t\tif (this.isBlockType(blockTypeEnum.WALL, index)) {\r\n\t\t\t\t\t\t\t\t\tthis.dragBehavior = dragBehaviorEnum.REMOVE_WALL\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.dragBehavior = dragBehaviorEnum.ADD_WALL\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase gridViewEnum.ELEVATION:\r\n\t\t\t\t\t\tthis.dragBehavior = dragBehaviorEnum.INCREASE_ELEVATION\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.dragBehavior !== dragBehaviorEnum.INCREASE_ELEVATION) {\r\n\t\t\t\t\tthis.dragHistory.push(index)\r\n\t\t\t\t}\r\n\t\t\t\tthis.clicked(index)\r\n\t\t\t},\r\n\t\t\tmouseUp() {\r\n\t\t\t\tthis.dragging = false\r\n\t\t\t\tthis.dragHistory = []\r\n\t\t\t\tthis.dragBehavior = dragBehaviorEnum.NONE\r\n\t\t\t},\r\n\t\t\tmouseEnter(index) {\r\n\t\t\t\tif (this.dragBehavior === dragBehaviorEnum.INCREASE_ELEVATION) {\r\n\t\t\t\t\tthis.clicked(index)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!~this.dragHistory.indexOf(index)) {\r\n\t\t\t\t\t\tthis.dragHistory.push(index)\r\n\t\t\t\t\t\tswitch (this.dragBehavior) {\r\n\t\t\t\t\t\t\tcase dragBehaviorEnum.ADD_LIGHT:\r\n\t\t\t\t\t\t\t\tif (!this.isBlockType(blockTypeEnum.LIGHT, index)) {\r\n\t\t\t\t\t\t\t\t\tthis.clicked(index)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase dragBehaviorEnum.REMOVE_LIGHT:\r\n\t\t\t\t\t\t\t\tif (this.isBlockType(blockTypeEnum.LIGHT, index)) {\r\n\t\t\t\t\t\t\t\t\tthis.clicked(index)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase dragBehaviorEnum.ADD_WALL:\r\n\t\t\t\t\t\t\t\tif (!this.isBlockType(blockTypeEnum.WALL, index)) {\r\n\t\t\t\t\t\t\t\t\tthis.clicked(index)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase dragBehaviorEnum.REMOVE_WALL:\r\n\t\t\t\t\t\t\t\tif (this.isBlockType(blockTypeEnum.WALL, index)) {\r\n\t\t\t\t\t\t\t\t\tthis.clicked(index)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmouseLeft() {\r\n\t\t\t\tif (this.dragging) {\r\n\t\t\t\t\tthis.mouseUp()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.grid-container {\r\n\t\tdisplay: grid;\r\n\t}\r\n\r\n\t.block {\r\n\t\theight: 1.2rem;\r\n\t\tcursor: pointer;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 0.8rem;\r\n\t\tline-height: 1.2rem;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.wall {\r\n\t\tbackground-color: #555555;\r\n\t}\r\n\r\n\t.block:hover {\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t/* TODO: Remove unused selector code warnings */\r\n\r\n\t.light {\r\n\t\tbackground-color: white !important;\r\n\t}\r\n\r\n\t.light-15 { background-color: #fddf6c; }\r\n\t.light-14 { background-color: #efca5b; }\r\n\t.light-13 { background-color: #e1b54b; }\r\n\t.light-12 { background-color: #d3a13c; }\r\n\t.light-11 { background-color: #c48d2d; }\r\n\t.light-10 { background-color: #b5791f; }\r\n\t.light-9  { background-color: #a66610; }\r\n\t.light-8  { background-color: #965300; }\r\n\t.light-7  { background-color: #88450d; }\r\n\t.light-6  { background-color: #783914; }\r\n\t.light-5  { background-color: #662e17; }\r\n\t.light-4  { background-color: #542518; }\r\n\t.light-3  { background-color: #421d16; }\r\n\t.light-2  { background-color: #2f1613; }\r\n\t.light-1  { background-color: #1d0e0c; }\r\n\t.light-0  { background-color: #000000; }\r\n\r\n\t.elevation-0  { background-color: #000000; }\r\n\t.elevation-1  { background-color: #222222; }\r\n\t.elevation-2  { background-color: #444444; }\r\n\t.elevation-3  { background-color: #666666; }\r\n\r\n\t.danger, .elevation {\r\n\t\tcolor: white;\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewGrid.vue?vue&type=template&id=4d6db2de&scoped=true&\"\nimport script from \"./ViewGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewGrid.vue?vue&type=style&index=0&id=4d6db2de&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d6db2de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"control-container\"},[_c('div',{staticClass:\"container-row top\"},[_c('div',{staticClass:\"container-col left\"},[_c('div',{staticClass:\"control\"},[_c('label',{attrs:{\"for\":\"view-control\"}},[_vm._v(\"View\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gridView),expression:\"gridView\"}],attrs:{\"id\":\"view-control\",\"required\":true},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.gridView=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.viewOptions.options),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.value,\"selected\":option.value === _vm.viewOptions.default}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0)]),_c('div',{staticClass:\"control\"},[_c('label',{attrs:{\"for\":\"light-control\"}},[_vm._v(\"Control\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.control),expression:\"control\"}],attrs:{\"id\":\"light-control\",\"required\":true},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.control=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.scopedControlOptions.options),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.value,\"selected\":option.value === _vm.scopedControlOptions.default(_vm.gridView)}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0)])]),_c('div',{staticClass:\"container-col right\"},[_c('div',{staticClass:\"control\"},[_c('label',{attrs:{\"for\":\"height-control\"}},[_vm._v(\"Height\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.height),expression:\"height\"}],attrs:{\"type\":\"number\",\"id\":\"height-control\",\"min\":_vm.dimensions.height.min,\"max\":_vm.dimensions.height.max},domProps:{\"value\":(_vm.height)},on:{\"change\":_vm.dimensionsChanged,\"input\":function($event){if($event.target.composing){ return; }_vm.height=$event.target.value}}})]),_c('div',{staticClass:\"control\"},[_c('label',{attrs:{\"for\":\"width-control\"}},[_vm._v(\"Width\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.width),expression:\"width\"}],attrs:{\"type\":\"number\",\"id\":\"width-control\",\"min\":_vm.dimensions.width.min,\"max\":_vm.dimensions.width.max},domProps:{\"value\":(_vm.width)},on:{\"change\":_vm.dimensionsChanged,\"input\":function($event){if($event.target.composing){ return; }_vm.width=$event.target.value}}})])])]),_c('div',{staticClass:\"container-row bottom\"},[_c('button',{on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function clamp(n, min, max) {\r\n\treturn n < min ? min : (n > max ? max : n)\r\n}","<template>\r\n\t<div class=\"control-container\">\r\n\t\t<div class=\"container-row top\">\r\n\t\t\t<div class=\"container-col left\">\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\t<label for=\"view-control\">View</label>\r\n\t\t\t\t\t<select id=\"view-control\" v-model=\"gridView\" :required=\"true\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"option in viewOptions.options\"\r\n\t\t\t\t\t\t\t:key=\"option.id\"\r\n\t\t\t\t\t\t\t:value=\"option.value\"\r\n\t\t\t\t\t\t\t:selected=\"option.value === viewOptions.default\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ option.name }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\t<label for=\"light-control\">Control</label>\r\n\t\t\t\t\t<select id=\"light-control\" v-model=\"control\" :required=\"true\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"option in scopedControlOptions.options\"\r\n\t\t\t\t\t\t\t:key=\"option.id\"\r\n\t\t\t\t\t\t\t:value=\"option.value\"\r\n\t\t\t\t\t\t\t:selected=\"option.value === scopedControlOptions.default(gridView)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ option.name }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"container-col right\">\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\t<label for=\"height-control\">Height</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tid=\"height-control\"\r\n\t\t\t\t\t\tv-model=\"height\"\r\n\t\t\t\t\t\t:min=\"dimensions.height.min\"\r\n\t\t\t\t\t\t:max=\"dimensions.height.max\"\r\n\t\t\t\t\t\t@change=\"dimensionsChanged\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\t<label for=\"width-control\">Width</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tid=\"width-control\"\r\n\t\t\t\t\t\tv-model=\"width\"\r\n\t\t\t\t\t\t:min=\"dimensions.width.min\"\r\n\t\t\t\t\t\t:max=\"dimensions.width.max\"\r\n\t\t\t\t\t\t@change=\"dimensionsChanged\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"container-row bottom\">\r\n\t\t\t<button @click=\"reset\">Reset</button>\r\n\t\t</div>\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { clamp } from '../util'\r\n\timport {\r\n\t\tblockTypeEnum,\r\n\t\tcontrolTypeEnum,\r\n\t\tgridViewEnum\r\n\t} from '../data'\r\n\r\n\tconst viewOptions = {\r\n\t\tdefault: gridViewEnum.LIGHT,\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\tid: 'light-view',\r\n\t\t\t\tname: 'Light',\r\n\t\t\t\tvalue: gridViewEnum.LIGHT\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'elevation-view',\r\n\t\t\t\tname: 'Elevation',\r\n\t\t\t\tvalue: gridViewEnum.ELEVATION\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tconst controlOptions = {\r\n\t\tdefault(view) {\r\n\t\t\tswitch (view) {\r\n\t\t\t\tcase gridViewEnum.LIGHT: return controlTypeEnum.LIGHT\r\n\t\t\t\tcase gridViewEnum.ELEVATION: return controlTypeEnum.INCREASE_ELEVATION\r\n\t\t\t}\r\n\t\t},\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\tid: 'light-control',\r\n\t\t\t\tname: 'Light',\r\n\t\t\t\tvalue: controlTypeEnum.LIGHT,\r\n\t\t\t\tviewFilter: gridViewEnum.LIGHT\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'wall-control',\r\n\t\t\t\tname: 'Wall',\r\n\t\t\t\tvalue: controlTypeEnum.WALL,\r\n\t\t\t\tviewFilter: gridViewEnum.LIGHT\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'increase-elevation-control',\r\n\t\t\t\tname: 'Increase Elevation',\r\n\t\t\t\tvalue: controlTypeEnum.INCREASE_ELEVATION,\r\n\t\t\t\tviewFilter: gridViewEnum.ELEVATION\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'decrease-elevation-control',\r\n\t\t\t\tname: 'Decrease Elevation',\r\n\t\t\t\tvalue: controlTypeEnum.DECREASE_ELEVATION,\r\n\t\t\t\tviewFilter: gridViewEnum.ELEVATION\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tconst dimensions = {\r\n\t\theight: {\r\n\t\t\tdefault: 40,\r\n\t\t\tmin: 1,\r\n\t\t\tmax: 100\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\tdefault: 40,\r\n\t\t\tmin: 1,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t}\r\n\r\n\texport default {\r\n\t\tname: 'LightGridControlSelector',\r\n\t\temits: [\r\n\t\t\t'change-control',\r\n\t\t\t'change-view',\r\n\t\t\t'change-dimensions',\r\n\t\t\t'reset'\r\n\t\t],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcontrolOptions,\r\n\t\t\t\tviewOptions,\r\n\t\t\t\tcontrol: controlOptions.default(viewOptions.default),\r\n\t\t\t\tgridView: viewOptions.default,\r\n\t\t\t\theight: dimensions.height.default,\r\n\t\t\t\twidth: dimensions.width.default,\r\n\t\t\t\tdimensions,\r\n\t\t\t\tblockTypeEnum,\r\n\t\t\t\tgridViewEnum\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tscopedControlOptions() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdefault: this.controlOptions.default,\r\n\t\t\t\t\toptions: this.controlOptions.options.filter(option => option.viewFilter === this.gridView)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcontrol(controlType) {\r\n\t\t\t\tthis.$emit('change-control', controlType)\r\n\t\t\t},\r\n\t\t\tgridView(view) {\r\n\t\t\t\tthis.viewChanged()\r\n\t\t\t\tthis.$emit('change-view', view)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tviewChanged() {\r\n\t\t\t\tthis.control = controlOptions.default(this.gridView)\r\n\t\t\t},\r\n\t\t\tdimensionsChanged() {\r\n\t\t\t\tthis.height = clamp(this.height, dimensions.height.min, dimensions.height.max)\r\n\t\t\t\tthis.width = clamp(this.width, dimensions.width.min, dimensions.width.max)\r\n\t\t\t\tthis.$emit('change-dimensions', { height: this.height, width: this.width })\r\n\t\t\t},\r\n\t\t\treset() {\r\n\t\t\t\tthis.height = dimensions.height.default\r\n\t\t\t\tthis.width = dimensions.width.default\r\n\t\t\t\tthis.gridView = viewOptions.default\r\n\t\t\t\tthis.viewChanged()\r\n\t\t\t\tthis.dimensionsChanged()\r\n\t\t\t\tthis.$emit('reset')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.control-container {\r\n\t\tflex: 0 1 auto;\r\n\t\theight: 6rem;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column;\r\n\t\tpadding: 0.25rem 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #E7E7E7;\r\n\t}\r\n\r\n\t.container-row {\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.container-row.top {\r\n\t\tflex: 1 1 auto;\r\n\t}\r\n\r\n\t.container-row.bottom {\r\n\t\tflex: 0 1 auto;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.container-col {\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column;\r\n\t}\r\n\r\n\t.control {\r\n\t\tflex: 1 1 auto;\r\n\t\tpadding: 0 0.5rem;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\tlabel {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 5rem;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\tselect {\r\n\t\tmargin-left: 0.5rem;\r\n\t}\r\n\r\n\tbutton {\r\n\t\twidth: 10rem;\r\n\t\tline-height: 1rem;\r\n\t\tpadding: 0.1rem;\r\n\t}\r\n\r\n\tinput[type=number] {\r\n\t\tmax-width: 3rem;\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGridControlSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGridControlSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewGridControlSelector.vue?vue&type=template&id=652d667e&scoped=true&\"\nimport script from \"./ViewGridControlSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewGridControlSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewGridControlSelector.vue?vue&type=style&index=0&id=652d667e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"652d667e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div id=\"light-calculator\">\r\n\t\t<view-grid-control-selector\r\n\t\t\tv-show=\"showControls\"\r\n\t\t\t@change-control=\"changeControl\"\r\n\t\t\t@change-view=\"changeView\"\r\n\t\t\t@change-dimensions=\"changeDimensions\"\r\n\t\t\t@reset=\"reset\"\r\n\t\t/>\r\n\t\t<div class=\"view-grid-container\">\r\n\t\t\t<div id=\"view-grid\" :class=\"{ expanded: !showControls }\">\r\n\t\t\t\t<view-grid\r\n\t\t\t\t\t:width=\"gridWidth\"\r\n\t\t\t\t\t:height=\"gridHeight\"\r\n\t\t\t\t\t:lights=\"lights\"\r\n\t\t\t\t\t:walls=\"walls\"\r\n\t\t\t\t\t:elevations=\"elevations\"\r\n\t\t\t\t\t:control=\"controlType\"\r\n\t\t\t\t\t:grid-view=\"gridView\"\r\n\t\t\t\t\t@add-light=\"addLight\"\r\n\t\t\t\t\t@remove-light=\"removeLight\"\r\n\t\t\t\t\t@add-wall=\"addWall\"\r\n\t\t\t\t\t@remove-wall=\"removeWall\"\r\n\t\t\t\t\t@change-elevation=\"changeElevation\"\r\n\t\t\t\t\t@reset=\"reset\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport ViewGrid from './ViewGrid'\r\n\timport ViewGridControlSelector from './ViewGridControlSelector'\r\n\timport {\r\n\t\tcontrolTypeEnum,\r\n\t\tgridViewEnum\r\n\t} from '../data'\r\n\timport { clamp } from '../util'\r\n\r\n\tconst MIN_ELEVATION = 0\r\n\tconst MAX_ELEVATION = 127\r\n\r\n\texport default {\r\n\t\tname: 'LightCalculator',\r\n\t\tcomponents: {\r\n\t\t\tViewGrid,\r\n\t\t\tViewGridControlSelector\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tshowControls: Boolean\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlights: [],\r\n\t\t\t\twalls: [],\r\n\t\t\t\televations: {},\r\n\t\t\t\tgridWidth: 40,\r\n\t\t\t\tgridHeight: 40,\r\n\t\t\t\tcontrolType: controlTypeEnum.LIGHT,\r\n\t\t\t\tgridView: gridViewEnum.LIGHT\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\taddLight(coordinates) {\r\n\t\t\t\tthis.lights.push({ x: coordinates.x, y: coordinates.y, strength: 14 })\r\n\t\t\t},\r\n\t\t\tremoveLight(coordinates) {\r\n\t\t\t\tthis.lights = this.lights.filter(light => !(light.x === coordinates.x && light.y === coordinates.y))\r\n\t\t\t},\r\n\t\t\taddWall(coordinates) {\r\n\t\t\t\tthis.walls.push({ x: coordinates.x, y: coordinates.y })\r\n\t\t\t},\r\n\t\t\tremoveWall(coordinates) {\r\n\t\t\t\tthis.walls = this.walls.filter(wall => !(wall.x === coordinates.x && wall.y === coordinates.y))\r\n\t\t\t},\r\n\t\t\tchangeElevation(coordinates) {\r\n\t\t\t\tconst key = `${coordinates.x},${coordinates.y}`\r\n\t\t\t\tif (!this.elevations[key] && this.controlType === controlTypeEnum.INCREASE_ELEVATION) {\r\n\t\t\t\t\tthis.$set(this.elevations, key, 1)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst elevation = this.elevations[key]\r\n\t\t\t\t\tif (this.controlType === controlTypeEnum.INCREASE_ELEVATION) {\r\n\t\t\t\t\t\tthis.$set(this.elevations, key, clamp(elevation + 1, MIN_ELEVATION, MAX_ELEVATION))\r\n\t\t\t\t\t} else if (this.controlType === controlTypeEnum.DECREASE_ELEVATION) {\r\n\t\t\t\t\t\tthis.$set(this.elevations, key, clamp(elevation - 1, MIN_ELEVATION, MAX_ELEVATION))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treset() {\r\n\t\t\t\tthis.lights = []\r\n\t\t\t\tthis.walls = []\r\n\t\t\t\tthis.elevations = {}\r\n\t\t\t},\r\n\t\t\tchangeControl(controlType) {\r\n\t\t\t\tthis.controlType = controlType\r\n\t\t\t},\r\n\t\t\tchangeView(view) {\r\n\t\t\t\tthis.gridView = view\r\n\t\t\t},\r\n\t\t\tchangeDimensions(dimensions) {\r\n\t\t\t\tthis.gridWidth = dimensions.width\r\n\t\t\t\tthis.gridHeight = dimensions.height\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t#light-calculator {\r\n\t\tmax-width: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.view-grid-container {\r\n\t\tflex: 1 1 auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t#view-grid {\r\n\t\tmax-height: calc(100vh - 9rem);\r\n\t\tflex: 0 1 auto;\r\n\t\tmax-width: 100vw;\r\n\t\toverflow: auto;\r\n\t\tscrollbar-width: thin !important;\r\n\t\tscrollbar-color: white black;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t#view-grid.expanded {\r\n\t\tmax-height: calc(100vh - 3rem);\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LightCalculator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LightCalculator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LightCalculator.vue?vue&type=template&id=4f10b656&scoped=true&\"\nimport script from \"./LightCalculator.vue?vue&type=script&lang=js&\"\nexport * from \"./LightCalculator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LightCalculator.vue?vue&type=style&index=0&id=4f10b656&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f10b656\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"Light Calculator\")]),_c('div',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.message))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div id=\"header\">\r\n\t\t<div class=\"title\">Light Calculator</div>\r\n\t\t<div class=\"message\">{{ message }}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'PageHeader',\r\n\t\tprops: {\r\n\t\t\tshowControls: Boolean\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tmessage() {\r\n\t\t\t\treturn `(${this.showControls ? 'hide' : 'show'} controls)`\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t#header {\r\n\t\tbackground-color: #F7F7F7;\r\n\t\theight: 2rem;\r\n\t\tline-height: 2rem;\r\n\t\tpadding: 0.5rem;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.message {\r\n\t\tfont-size: 0.75rem;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #777;\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageHeader.vue?vue&type=template&id=29c4c6dd&scoped=true&\"\nimport script from \"./PageHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./PageHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageHeader.vue?vue&type=style&index=0&id=29c4c6dd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29c4c6dd\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div id=\"app\">\r\n\t\t<div class=\"header no-select\" @click=\"toggleControl\">\r\n\t\t\t<page-header :show-controls=\"showControls\" />\r\n\t\t</div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<light-calculator :show-controls=\"showControls\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport LightCalculator from './components/LightCalculator'\r\n\timport PageHeader from './components/PageHeader'\r\n\r\n\texport default {\r\n\t\tname: 'App',\r\n\t\tcomponents: {\r\n\t\t\tPageHeader,\r\n\t\t\tLightCalculator\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowControls: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttoggleControl() {\r\n\t\t\t\tthis.showControls = !this.showControls\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#app {\r\n\t\tfont-family: Avenir,Helvetica, Arial, sans-serif;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.no-select {\r\n\t\t-webkit-touch-callout: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t-khtml-user-select: none;\r\n\t\t-moz-user-select: none;\r\n\t\t-ms-user-select: none;\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t/*\r\n\t\tApp layout:\r\n\t\thttps://stackoverflow.com/a/24979148\r\n\t*/\r\n\r\n\t.header {\r\n\t\tflex: 0 1 auto;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.content {\r\n\t\tflex: 1 1 auto;\r\n\t\tbackground-color: #5E5E5E;\r\n\t}\r\n\r\n\t/*.footer {*/\r\n\t/*\tflex: 0 1 40px;*/\r\n\t/*}*/\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=067336e0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n\trender: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=style&index=0&id=29c4c6dd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=style&index=0&id=29c4c6dd&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LightCalculator.vue?vue&type=style&index=0&id=4f10b656&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LightCalculator.vue?vue&type=style&index=0&id=4f10b656&scoped=true&lang=css&\""],"sourceRoot":""}